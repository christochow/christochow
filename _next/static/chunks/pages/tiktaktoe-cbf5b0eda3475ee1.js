(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{5018:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tiktaktoe",function(){return r(223)}])},223:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return p}});var t=r(5893),o=r(7294),a=r(6743),i=r(8816),u=r.n(i),c=function(){var n=function(n){return r("min",n)[0]},e=function(n){return r("max",n)[0]},r=function(n,e){var o=-1,a="min"===n?1e3:-1e3;return e.getAvailablePos().forEach((function(i){var u,c=e.clone(),s=c.applyAction(i);u="running"===s?r("min"===n?"max":"min",c):[i,t(s,c.getAIMoves())],("min"===n&&u[1]<a||"max"===n&&u[1]>a)&&(a=u[1],o=i)})),[o,a]},t=function(n,e){return n.includes("AI")?10-e:n.includes("Human")?-10+e:0};return{lossFunction:t,calcMinMax:r,makeOptimalMove:e,makeSubOptimalMove:n,makeMove:function(r,t){if(!t)throw new Error;switch(r){case"beginner":return n(t);case"master":return e(t);default:return Math.floor(Math.random()*Math.floor(2))>0?e(t):n(t)}}}};function s(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function l(n){return function(n){if(Array.isArray(n))return s(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return s(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function n(e,r,t){var o=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.clone=function(){return new n(o._turn,o._player,o.getBoard())},this.getBoard=function(){return l(o._pBoard)},this.getAIMoves=function(){return o._aiMoves},this.getAvailablePos=function(){var n=[];return o.getBoard().forEach((function(e,r){"E"===e&&n.push(r)})),n},this.applyAction=function(n){return o._pBoard[n]=o._turn,o._turn===o._ai&&o._aiMoves++,o._turn="X"===o._turn?"O":"X",o.checkResult()},this.checkResult=function(){for(var n=0;n<9;n+=3)if(o._pBoard[n]===o._pBoard[n+1]&&o._pBoard[n+1]===o._pBoard[n+2]&&"E"!==o._pBoard[n])return o.determineResult(o._pBoard[n]);for(var e=0;e<3;e++)if(o._pBoard[e]===o._pBoard[e+3]&&o._pBoard[e+3]===o._pBoard[e+6]&&"E"!==o._pBoard[e])return o.determineResult(o._pBoard[e]);return(o._pBoard[0]===o._pBoard[4]&&o._pBoard[4]===o._pBoard[8]||o._pBoard[2]===o._pBoard[4]&&o._pBoard[4]===o._pBoard[6])&&"E"!==o._pBoard[4]?o.determineResult(o._pBoard[4]):o._pBoard.includes("E")?"running":"draw"},this.determineResult=function(n){return n===o._player?"Human wins!":"AI wins!"},this._turn=e,this._player=r,this._pBoard=t||["E","E","E","E","E","E","E","E","E"],this._aiMoves=0,this._ai="X"===r?"O":"X"},f=function(n,e,r,t,a){var i=(0,o.useState)(null),u=i[0],s=i[1],l=(0,o.useState)(null),f=l[0],h=l[1],v=(0,o.useMemo)((function(){return c()}),[]),_=(0,o.useCallback)((function(e){if(!u)throw new Error;var r=u.applyAction(e);return t("X"===n?"O":"X"),r}),[u,t,n]),m=(0,o.useCallback)((function(){setTimeout((function(){var n=function(){var n=v.makeMove(r,u);return _(n)}();"running"!==n&&a(n)}),2e3)}),[v,_,r,u,a]),p=(0,o.useCallback)((function(n){var e=_(n);"running"===e||a(e)}),[_,a]);return(0,o.useEffect)((function(){h(null===u||void 0===u?void 0:u.getBoard())}),[u,n]),(0,o.useEffect)((function(){u&&n!==e&&m()}),[u,n,e,m]),{startGame:function(){s(new d(n,e,null))},resetGame:function(){return s(null)},board:f,applyAction:_,aiMove:m,humanMove:p,gameState:u}},h=r(3829),v=r(5819),_=r(3321),m=r(6886),p=function(){var n,e=(0,o.useState)(!1),r=e[0],i=e[1],c=(0,o.useState)("novice"),s=c[0],l=c[1],d=(0,o.useState)("X"),p=d[0],k=d[1],b=(0,o.useState)("X"),g=b[0],x=b[1],B=(0,o.useState)(!1),j=B[0],E=B[1],w=(0,o.useState)(""),y=w[0],C=w[1],M=(0,o.useRef)(null),A=f(p,g,s,k,C);(0,o.useEffect)((function(){var n=setTimeout((function(){E(!0)}),100);return function(){return clearTimeout(n)}}),[]);return(0,t.jsx)("div",{className:u().container,children:(0,t.jsx)(a.Z,{nodeRef:M,in:j,timeout:1e3,classNames:"vertical-transition",unmountOnExit:!0,children:(0,t.jsxs)("div",{ref:M,children:[(0,t.jsx)("h1",{children:"TikTakToe!"}),!r&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:u()["setting-container"],children:[(0,t.jsxs)("div",{children:["Choose your side:",(0,t.jsxs)(h.Z,{value:g,onChange:function(n){var e=n.target.value,r=p===g;k("X"===e?r?"X":"O":r?"O":"X"),x(n.target.value)},sx:{backgroundColor:"white",borderColor:"black"},children:[(0,t.jsx)(v.Z,{value:"X",children:"X"}),(0,t.jsx)(v.Z,{value:"O",children:"O"})]})]}),(0,t.jsxs)("div",{children:["Choose your difficulty:",(0,t.jsxs)(h.Z,{value:s,onChange:function(n){return l(n.target.value)},sx:{backgroundColor:"white",borderColor:"black"},children:[(0,t.jsx)(v.Z,{value:"beginner",children:"Beginner"}),(0,t.jsx)(v.Z,{value:"novice",children:"Novice"}),(0,t.jsx)(v.Z,{value:"master",children:"Master"})]})]}),(0,t.jsxs)("div",{children:["Who should play first:",(0,t.jsxs)(h.Z,{value:p,onChange:function(n){return k(n.target.value)},sx:{backgroundColor:"white",borderColor:"black"},children:[(0,t.jsx)(v.Z,{value:g,children:"You"}),(0,t.jsx)(v.Z,{value:"X"===g?"O":"X",children:"AI"})]})]})]}),(0,t.jsx)(_.Z,{variant:"contained",sx:{color:"black",backgroundColor:"white"},onClick:function(){i(!0),A.startGame()},children:"Start Game!"})]}),r&&(0,t.jsxs)("div",{className:u()["game-container"],children:["Let's start! Your side is ".concat(g),(0,t.jsx)("br",{}),(0,t.jsx)("h3",{children:""===y?"Current turn: ".concat(p," (").concat(p===g?"You":"AI",")"):y}),(0,t.jsx)(m.ZP,{className:"".concat(u().board," ").concat(p!==g?u().disabled:""),container:!0,children:null===(n=A.board)||void 0===n?void 0:n.map((function(n,e){return(0,t.jsx)(m.ZP,{xs:4,onClick:function(){return p===g?A.humanMove(e):null},children:n},e)}))}),(0,t.jsx)("div",{children:(0,t.jsx)(_.Z,{variant:"contained",sx:{color:"black",backgroundColor:"white"},onClick:function(){i(!1),x("X"),C(""),k("X"),l("novice"),A.resetGame()},children:"Reset Game"})})]})]})})})}},8816:function(n){n.exports={container:"Tiktaktoe_container__HUdqh","setting-container":"Tiktaktoe_setting-container__SIv21","game-container":"Tiktaktoe_game-container__IPCM0",board:"Tiktaktoe_board__CZZMk",disabled:"Tiktaktoe_disabled__qfx0Q",settings:"Tiktaktoe_settings__d3uz5"}}},function(n){n.O(0,[321,151,774,888,179],(function(){return e=5018,n(n.s=e);var e}));var e=n.O();_N_E=e}]);