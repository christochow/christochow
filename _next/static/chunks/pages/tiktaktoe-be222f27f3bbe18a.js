(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{5018:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tiktaktoe",function(){return t(223)}])},223:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return x}});var r=t(5893),a=t(7294),o=t(6743),i=t(8816),u=t.n(i),c=function(){var n=function(n){return t("min",n)[0]},e=function(n){return t("max",n)[0]},t=function(n,e){var a=-1,o="min"===n?1e3:-1e3;return e.getAvailablePos().forEach((function(i){var u,c=e.clone(),s=c.applyAction(i);u="running"===s?t("min"===n?"max":"min",c):[i,r(s,c.getAIMoves())],("min"===n&&u[1]<o||"max"===n&&u[1]>o)&&(o=u[1],a=i)})),[a,o]},r=function(n,e){return n.includes("AI")?10-e:n.includes("Human")?-10+e:0};return{lossFunction:r,calcMinMax:t,makeOptimalMove:e,makeSubOptimalMove:n,makeMove:function(t,r){if(!r)throw new Error;switch(t){case"beginner":return n(r);case"master":return e(r);default:return Math.floor(Math.random()*Math.floor(2))>0?e(r):n(r)}}}};function s(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function l(n){return function(n){if(Array.isArray(n))return s(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return s(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function n(e,t,r){var a=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.clone=function(){return new n(a._turn,a._player,a.getBoard())},this.getBoard=function(){return l(a._pBoard)},this.getAIMoves=function(){return a._aiMoves},this.getAvailablePos=function(){var n=[];return a.getBoard().forEach((function(e,t){"E"===e&&n.push(t)})),n},this.applyAction=function(n){return a._pBoard[n]=a._turn,a._turn===a._ai&&a._aiMoves++,a._turn="X"===a._turn?"O":"X",a.checkResult()},this.checkResult=function(){for(var n=0;n<9;n+=3)if(a._pBoard[n]===a._pBoard[n+1]&&a._pBoard[n+1]===a._pBoard[n+2]&&"E"!==a._pBoard[n])return a.determineResult(a._pBoard[n]);for(var e=0;e<3;e++)if(a._pBoard[e]===a._pBoard[e+3]&&a._pBoard[e+3]===a._pBoard[e+6]&&"E"!==a._pBoard[e])return a.determineResult(a._pBoard[e]);return(a._pBoard[0]===a._pBoard[4]&&a._pBoard[4]===a._pBoard[8]||a._pBoard[2]===a._pBoard[4]&&a._pBoard[4]===a._pBoard[6])&&"E"!==a._pBoard[4]?a.determineResult(a._pBoard[4]):a._pBoard.includes("E")?"running":"draw"},this.determineResult=function(n){return n===a._player?"Human wins!":"AI wins!"},this._turn=e,this._player=t,this._pBoard=r||["E","E","E","E","E","E","E","E","E"],this._aiMoves=0,this._ai="X"===t?"O":"X"},f=function(n,e,t,r,o){var i=(0,a.useState)(null),u=i[0],s=i[1],l=(0,a.useState)(null),f=l[0],h=l[1],v=(0,a.useMemo)((function(){return c()}),[]),_=(0,a.useCallback)((function(e){if(!u)throw new Error;var t=u.applyAction(e);return r("X"===n?"O":"X"),t}),[u,r,n]),m=(0,a.useCallback)((function(){setTimeout((function(){var n=function(){var n=v.makeMove(t,u);return _(n)}();"running"!==n&&o(n)}),2e3)}),[v,_,t,u,o]),p=(0,a.useCallback)((function(n){var e=_(n);"running"===e||o(e)}),[_,o]);return(0,a.useEffect)((function(){h(null===u||void 0===u?void 0:u.getBoard())}),[u,n]),(0,a.useEffect)((function(){u&&n!==e&&m()}),[u,n,e,m]),{startGame:function(){s(new d(n,e,null))},resetGame:function(){return s(null)},board:f,applyAction:_,aiMove:m,humanMove:p,gameState:u}},h=t(3829),v=t(5819),_=t(3321),m=t(6886),p={backgroundColor:"white",borderColor:"black",marginLeft:"5px"},x=function(){var n,e=(0,a.useState)(!1),t=e[0],i=e[1],c=(0,a.useState)("novice"),s=c[0],l=c[1],d=(0,a.useState)("X"),x=d[0],g=d[1],k=(0,a.useState)("X"),b=k[0],B=k[1],j=(0,a.useState)(!1),E=j[0],y=j[1],w=(0,a.useState)(""),C=w[0],M=w[1],A=(0,a.useRef)(null),X=f(x,b,s,g,M);(0,a.useEffect)((function(){var n=setTimeout((function(){y(!0)}),100);return function(){return clearTimeout(n)}}),[]);return(0,r.jsx)("div",{className:u().container,children:(0,r.jsx)(o.Z,{nodeRef:A,in:E,timeout:1e3,classNames:"vertical-transition",unmountOnExit:!0,children:(0,r.jsxs)("div",{ref:A,children:[(0,r.jsx)("h1",{children:"TikTakToe!"}),!t&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:u()["setting-container"],children:[(0,r.jsxs)("div",{children:["Choose your side:",(0,r.jsxs)(h.Z,{value:b,onChange:function(n){var e=n.target.value,t=x===b;g("X"===e?t?"X":"O":t?"O":"X"),B(n.target.value)},sx:p,children:[(0,r.jsx)(v.Z,{value:"X",children:"X"}),(0,r.jsx)(v.Z,{value:"O",children:"O"})]})]}),(0,r.jsxs)("div",{children:["Choose your difficulty:",(0,r.jsxs)(h.Z,{value:s,onChange:function(n){return l(n.target.value)},sx:p,children:[(0,r.jsx)(v.Z,{value:"beginner",children:"Beginner"}),(0,r.jsx)(v.Z,{value:"novice",children:"Novice"}),(0,r.jsx)(v.Z,{value:"master",children:"Master"})]})]}),(0,r.jsxs)("div",{children:["Who should play first:",(0,r.jsxs)(h.Z,{value:x,onChange:function(n){return g(n.target.value)},sx:p,children:[(0,r.jsx)(v.Z,{value:b,children:"You"}),(0,r.jsx)(v.Z,{value:"X"===b?"O":"X",children:"AI"})]})]})]}),(0,r.jsx)(_.Z,{variant:"contained",sx:{color:"black",backgroundColor:"white"},onClick:function(){i(!0),X.startGame()},children:"Start Game!"})]}),t&&(0,r.jsxs)("div",{className:u()["game-container"],children:["Let's start! Your side is ".concat(b),(0,r.jsx)("br",{}),(0,r.jsx)("h3",{children:""===C?"Current turn: ".concat(x," (").concat(x===b?"You":"AI",")"):C}),(0,r.jsx)(m.ZP,{className:"".concat(u().board," ").concat(x!==b?u().disabled:""),container:!0,children:null===(n=X.board)||void 0===n?void 0:n.map((function(n,e){return(0,r.jsx)(m.ZP,{xs:4,onClick:function(){return x===b?X.humanMove(e):null},children:n},e)}))}),(0,r.jsx)("div",{children:(0,r.jsx)(_.Z,{variant:"contained",sx:{color:"black",backgroundColor:"white"},onClick:function(){i(!1),B("X"),M(""),g("X"),l("novice"),X.resetGame()},children:"Reset Game"})})]})]})})})}},8816:function(n){n.exports={container:"Tiktaktoe_container__HUdqh","setting-container":"Tiktaktoe_setting-container__SIv21","game-container":"Tiktaktoe_game-container__IPCM0",board:"Tiktaktoe_board__CZZMk",disabled:"Tiktaktoe_disabled__qfx0Q",settings:"Tiktaktoe_settings__d3uz5"}}},function(n){n.O(0,[321,151,774,888,179],(function(){return e=5018,n(n.s=e);var e}));var e=n.O();_N_E=e}]);